# [201_70] 修复图片缩放的撤销问题

## 如何测试
1. 新建文档，插入一张图片
2. 鼠标拖动图片的8个调整手柄（四个角和四条边）进行缩放
3. 释放左键后，按住 `Ctrl+Z` 撤销，应该只需要一次就能完全恢复到原始尺寸
4. 连续进行多次独立的拖拽缩放操作（独立指每次拖拽操作之间左键没有释放），每次撤销应该对应一次独立的拖拽操作

## 2026/1/30
### What
在图片鼠标拖拽缩放功能中添加编辑会话标记，将整个拖拽过程作为一个事务处理，避免撤销时逐帧回退

### Why
原实现中，鼠标拖拽缩放图片时，每帧修改都会调用 `tree-set!` 触发独立的撤销记录，导致用户需要按多次 `Ctrl+Z` 才能完全撤销一次拖拽操作

这不符合用户直觉，每次拖拽应该对应一次撤销操作，与表格格线拖动等操作保持一致

### How
1. 在 `format-geometry-edit.scm` 中添加 `image-resize-mark` 全局变量（编辑会话标记）
2. 在鼠标开始拖拽时（`start-drag-left`）调用 `(mark-new)` 创建标记并 `(mark-start)` 开始编辑会话
3. 在鼠标结束拖拽时（`end-drag-left`）调用 `(mark-end)` 结束编辑会话，将整个拖拽过程合并为一个撤销记录
